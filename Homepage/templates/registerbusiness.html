{% extends 'base.html' %}
{% block content %}

<h1>Register Business</h1><br>

<form id="myForm" method="post" action="{% url 'registerbusiness' %}">
	{% csrf_token %}
	<div class="form-row">
		<div class="form-group col-md-8">
			<label for="companyName">Company Name</label>
			<input type="text" class="form-control" id="companyName" name="company_name" placeholder="eg. Ah Huat Duck Rice" required>
		</div>
		<div class="form-group col-md-4">
			<label for="uen">Company UEN</label>
			<input type="text" class="form-control" id="uen" name="uen" placeholder="eg. T09LL0001B" required>
		</div>
	</div>
	<div class="form-row">
		<div class="form-group col-md-6">
			<label for="firstName">Contact Person First Name</label>
			<input type="text" class="form-control" id="firstName" name="first_name" placeholder="eg. John" required>
		</div>
		<div class="form-group col-md-6">
			<label for="lastName">Contact Person Last Name</label>
			<input type="text" class="form-control" id="lastName" name="last_name" placeholder="eg. Doe" required>
		</div>
	</div>
	<div class="form-row">
		<div class="form-group col-md-6">
			<label for="phone">Contact Person Phone Number</label>
			<input type="tel" class="form-control" id="phone" name="phone" placeholder="eg. 12345678" required>
		</div>
		<div class="form-group col-md-6">
		  <label for="email">Contact Person Email</label>
		  <input type="email" class="form-control" id="email" name="email" placeholder="eg. name@example.com" required>
		</div>
	</div>
	<div class="form-row">
		<div class="form-group col-md-9">
			<label for="address">Address</label>
			<input type="text" class="form-control" id="address" name="address" placeholder="eg. 1234 Main St" required>
		</div>
		<div class="form-group col-md-3">
			<label for="postal_code">Postal code</label>
			<input type="text" class="form-control" id="postal_code" name="postal_code" required>
		</div>
	</div>
	<div class="form-group">
		<label for="food_category">Food Genre</label>
		<select class="custom-select custom-select-lg mb-3" name="food_category" id="food_category" required>
		  <option value="" selected>Select your business's food genre</option>
			{% if foodCategory %}
				{% for item in foodCategory %}
					<option value="{{ item.pk }}">{{ item.categoryName }}</option>
				{% endfor %}
			{% endif %}
		</select>
	</div>
	<div class="form-row">
		<div class="form-group col-md-6">
			<label for="username">Username</label>
			<input type="text" class="form-control" id="username" name="username" required>
		</div>
		<div class="form-group col-md-6">
			<label for="password">Password</label>
			<input type="password" class="form-control" id="password" name="password" required>
		</div>
	</div>
	<div class="form-group">
		<div class="form-check">
			<input class="form-check-input" type="checkbox" id="gridCheck" required>
			<label class="form-check-label" for="gridCheck">
				I agree to receive marketing information by email from CollabFood and its marketing agents.
			</label>
		</div>
		<div class="form-check">
			<input class="form-check-input" type="checkbox" id="gridCheck" required>
			<label class="form-check-label" for="gridCheck">
				I agree that CollabFood may collect my personal data both in its own capacity for the purpose of ticket processing, and as ticketing agent and data intermediary of promoters and venue managers of events for which I purchase tickets for the purposes of event management, and venue admission. My personal data may be collected, used, processed and disclosed by CollabFood, its agents and the above parties in accordance with CollabFood's Privacy Policy. I further confirm that all information provided is accurate and complete.
			</label>
		</div>
	</div>
	<button type="submit" class="btn btn-primary">Save</button>
</form>

<script>
	$(function() {
	  $('#myForm').submit(function(event) {
		var gender = $('#gender').val();
		var preferred_location = $('#preferred_location').val();
		var food_category = $('#food_category').val();
		var valid = true;
		// Check if form is valid
		if (!this.checkValidity()) {
		  event.preventDefault();
		  $('#error-message').html('Please fill in all required fields.');
		  valid = false;
		}
		// Remove "submit" class from required fields to remove red border
		$('input:required, select:required, textarea:required').removeClass('submit');
	  });
	});
	
	</script>

{% endblock %}